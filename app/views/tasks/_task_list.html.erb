<div class="task-list">
  <table class="table table-bordered table-striped ">
    <thead>
    <tr>
      <th class="col-2" data-sort-column="1" data-sortable="true"> Summary </th>
      <th class="col-3" data-sort-column="2" data-sortable="true"> Description </th>
      <th class="col-1" data-sort-column="3" data-sortable="true"> <%= link_to "Project", sort: "project" %> </th>
      <th class="col-1" data-sort-column="4" data-sortable="true"> <%= link_to "Status", sort: "status" %> </th>
      <th class="col-1" data-sort-column="4" data-sortable="true"> Assignee </th>
      <th class="col-2" data-sortable="true"></th>
    </tr>
    </thead>
    <tbody>
    <% @tasks.each do |task| %>
      <tr>
        <td class="col-2"> <%= task.summary %> </td>
        <td class="col-3"> <%= task.description %> </td>
        <td class="col-1"> <%= task.project.title %> </td>
        <td class="col-1"> <%= task.status.humanize %> </td>
        <td class="col-1"> <%= task.assignee.full_name %> </td>
        <td class="col-2">
          <%= link_to "View", task_path(task), class: "btn btn-primary me-1" %>
          <%= link_to "Edit", edit_task_path(task), class: "btn btn-primary me-1" %>
          <%= link_to "Delete", task, data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete the task - #{task.summary}?" }, class: "btn btn-danger"  %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
